!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).liuscUtils=t()}(this,function(){"use strict";function x(e){return Object.prototype.toString.call(e).slice(8,-1)}var i=function(e){var t;if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return(t=new Date).setTime(e.getTime()),t;if(e instanceof Array){t=[];for(var n=0,r=e.length;n<r;n++)t[n]=i(e[n]);return t}if(e instanceof Object){for(var o in t={},e)e.hasOwnProperty(o)&&(t[o]=i(e[o]));return t}throw new Error("Unable to copy values! Its type isn't supported.")},t=String.prototype;function R(e,t,r,o){void 0===t&&(t="&"),void 0===r&&(r="="),void 0===o&&(o=encodeURIComponent);var n=[];for(var i in e)"Array"===x(e[i])?n.push.apply(n,s(i,e[i])):"String"===x(e[i])||"Number"===x(e[i])||"Boolean"===x(e[i])?n.push(o(i)+r+o(e[i])):n.push(o(i)+r+"");return n.join(t);function s(t,e){var n=[];return e.forEach(function(e){n.push(o(t)+r+o(e))}),n}}var n=/^1[3|4|5|6|7|8][0-9]{9}$/,r=/^(0\d{2,3}-\d{7,8})(-\d{1,4})?$/,o=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,s=/[1-9]\d{5}(?!\d)/,a=/^[1-9][0-9]{4,9}$/,u=/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/,d=/^\d*(?:\.\d{0,2})?$/,c=/(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:/~\+#]*[\w\-\@?^=%&/~\+#])?/,l=/((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))/,p=/^[0-9]$/,f=/^[a-zA-Z]+$/,g=/^[\u4E00-\u9FA5]+$/,w=/^[a-z]+$/,m=/^[A-Z]+$/,v=/<("[^"]*"|'[^']*'|[^'">])*>/;var h=/([\:\-\_]+(.))/g,y=/^moz([A-Z])/,b=function(e){return e.replace(h,function(e,t,n,r){return r?n.toUpperCase():n}).replace(y,"Moz$1")};function E(e,t){return"#"===e.substring(0,1)?document.getElementById(e.substring(1)):(t||document).querySelectorAll(e)}function k(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function _(e,t){k(e,t)||(e.className+=" "+t)}function $(e,t){if(k(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n,"")}}var C;function T(e,t,n,r){e&&t&&n&&e.addEventListener(t,n,!!r)}function L(e,t,n){e&&t&&e.removeEventListener(t,n,!1)}function N(e,t,n){var r=e;if("Object"===x(r))for(var o in r){var i;(i=new Date).setDate(i.getDate()+n),document.cookie=o+"="+r[o]+";expires="+i}else(i=new Date).setDate(i.getDate()+n),document.cookie=e+"="+t+";expires="+i}return Object.freeze({__proto__:null,type:x,merge:function(e){for(var t=arguments,n=[],r=1;r<arguments.length;r++)n[r-1]=t[r];for(var o=0,i=n.length;o<i;o++){var s=n[o]||{};for(var a in s)if(s.hasOwnProperty(a)){var u=s[a];void 0!==u&&(e[a]=u)}}return e},debounce:function(n,r){var o;return function(){var e=this,t=arguments;clearTimeout(o),o=setTimeout(function(){n.apply(e,t)},r)}},throttle:function(t,n){var r=0;return function(){var e=+new Date;n<e-r&&(t.apply(this,arguments),r=e)}},deepClone:i,trimLeft:function(e){return"function"==typeof t.trimLeft?e.trimLeft():e.replace(/^\s+/,"")},trimRight:function(e){return"function"==typeof t.trimLeft?e.trimRight():e.replace(/\s+$/,"")},qsParse:function(e,t,n,r){void 0===t&&(t="&"),void 0===n&&(n="="),void 0===r&&(r=decodeURIComponent);var o=new RegExp("([^"+t+"?"+n+"]+)=([^"+t+"?"+n+"]+)","g"),i={};return e.replace(o,function(){i[r(arguments[1])]=r(arguments[2])}),i},qsStringify:R,REG_PHONE:n,REG_TEL:r,REG_CARD:o,REG_POSTAL:s,REG_QQ:a,REG_EMAIL:u,REG_MONEY:d,REG_URL:c,REG_IP:l,REG_NUMBER:p,REG_ENGLISH:f,REG_CHINESE:g,REG_LOWER:w,REG_UPPER:m,REG_HTML:v,stringIs:function(e,t){switch(t){case"phone":return n.test(e);case"tel":return r.test(e);case"card":return o.test(e);case"postal":return s.test(e);case"QQ":return a.test(e);case"email":return u.test(e);case"money":return d.test(e);case"URL":return c.test(e);case"IP":return l.test(e);case"date":return/^(\d{4})\-(\d{2})\-(\d{2}) (\d{2})(?:\:\d{2}|:(\d{2}):(\d{2}))$/.test(e)||/^(\d{4})\-(\d{2})\-(\d{2})$/.test(e);case"number":return p.test(e);case"english":return f.test(e);case"chinese":return g.test(e);case"lower":return w.test(e);case"upper":return m.test(e);case"HTML":return v.test(e);default:return!0}},dateFormat:function(e,t){if(void 0===t&&(t="YYYY-MM-DD HH:mm:ss"),!e)return"";"string"==typeof e&&(e=new Date(e.replace(/-/g,"/"))),"number"==typeof e&&(e=new Date(e));var n={"M+":e.getMonth()+1,"D+":e.getDate(),"h+":e.getHours()%12==0?12:e.getHours()%12,"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var r in/(Y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(t)&&(t=t.replace(RegExp.$1,(1<RegExp.$1.length?2<RegExp.$1.length?"星期":"周":"")+["日","一","二","三","四","五","六"][e.getDay()])),n)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return t},qsa:E,hasClass:k,addClass:_,removeClass:$,replaceClass:function(e,t,n){$(e,n),_(e,t)},siblings:function(e){if(!e.parentNode)return null;for(var t=e.parentNode.children,n=[],r=0,o=t.length;r<o;r++)t[r]!=e&&n.push(t[r]);return n},getStyle:function(e,t){return getComputedStyle(e,null)[t]},setStyle:function e(t,n,r){if(t&&n)if("object"==typeof n)for(var o in n)n.hasOwnProperty(o)&&e(t,o,n[o]);else n=b(n),t.style[n]=r},index:function(e){return e.parentNode?Array.prototype.indexOf.call(e.parentNode.children,e):0},scrollTo:function(t){void 0===t&&(t=0);var n=window;n.requestAnimationFrame||(n.requestAnimationFrame=function(e){return setTimeout(e,17)});var r=document.documentElement.scrollTop||document.body.scrollTop,o=function(){var e=t-r;r+=e/5,Math.abs(e)<1?n.scrollTo(0,t):(n.scrollTo(0,r),requestAnimationFrame(o))};o()},offset:function(e){for(var t={left:0,top:0};e;)t.left+=e.offsetLeft,t.top+=e.offsetTop,e=e.offsetParent;return t},getScrollBarWidth:function(){if(C)return C;var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var r=n.offsetWidth;return e.parentNode&&e.parentNode.removeChild(e),C=t-r},on:T,delegate:function(r,o,e,i){T(r,e,function(e){var t=e.target,n=E(o,r);0<=Array.prototype.indexOf.call(n,t)&&i.call(t,e)},"blur"===e||"focus"===e)},off:L,once:function(e,t,n){var r=function(){n&&n.apply(null,arguments),L(e,t,r)};T(e,t,r)},outclick:function(e,t){T(document,"click",function(){t&&t.apply(null,arguments)}),T(e,"click",function(e){e.stopPropagation()})},setCookie:N,getCookie:function(e){for(var t=document.cookie.split("; "),n=0;n<t.length;n++){var r=t[n].split("=");if(r[0]==e)return r[1]}return""},removeCookie:function(e){N(e,1,-1)},jsonp:function(t){var e=t.url,n=t.data,r=document.getElementsByTagName("body")[0],o=document.createElement("script"),i="cb"+(~~(16777215*Math.random())).toString(16);window[i]=function(e){t.success(e)},n[t.callback]=i,o.setAttribute("src",e+"?"+function(e){var t="";for(var n in e)t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])+"&";return t.slice(0,-1)}(n)),r.append(o)},ajax:function(e){var t=e.method,n=void 0===t?"GET":t,r=e.url,o=void 0===r?"":r,i=e.async,s=void 0===i||i,a=e.responseType,u=void 0===a?"json":a,d=e.params,c=void 0===d?"":d,l=e.data,p=void 0===l?"":l,f=e.contentType,g=void 0===f?"application/x-www-form-urlencoded":f,w=e.success,m=void 0===w?function(){}:w,v=e.error,h=void 0===v?function(){}:v,y=e.withCredentials,b=void 0!==y&&y,E=new XMLHttpRequest;E.withCredentials=b,"Object"===x(c)?o=o+"?"+R(c):c&&(o=o+"?"+c),"GET"==n.toUpperCase()?(E.open(n,o,s),E.send()):(E.open(n,o,s),E.setRequestHeader("Content-Type",g),-1<g.indexOf("application/x-www-form-urlencoded")?E.send(R(p)):-1<g.indexOf("application/json")&&E.send(JSON.stringify(p))),E.onreadystatechange=function(){if(4===E.readyState&&(200===E.status||304===E.status))switch(u){case"json":var e=JSON.parse(E.responseText);m(e);break;case"xml":m(E.responseXML);break;default:m(E.responseText)}},E.onerror=function(e){h(e)}},device:function(){function e(e){return e.test(n)}function t(e){return(n.match(e)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".")}var n=navigator.userAgent.toLowerCase(),r="unknown";e(/windows|win32|win64|wow32|wow64/gi)?r="windows":e(/macintosh|macintel/gi)?r="osx":e(/x11/gi)?r="linux":e(/android|adr/gi)?r="android":e(/ios|iphone|ipad|ipod|iwatch/gi)&&(r="ios");var o="unknown";"windows"===r?e(/windows nt 5.0|windows 2000/gi)?o="2000":e(/windows nt 5.1|windows xp/gi)?o="xp":e(/windows nt 5.2|windows 2003/gi)?o="2003":e(/windows nt 6.0|windows vista/gi)?o="vista":e(/windows nt 6.1|windows 7/gi)?o="7":e(/windows nt 6.2|windows 8/gi)?o="8":e(/windows nt 6.3|windows 8.1/gi)?o="8.1":e(/windows nt 10.0|windows 10/gi)&&(o="10"):"osx"===r?o=t(/os x [\d._]+/gi):"android"===r?o=t(/android [\d._]+/gi):"ios"===r&&(o=t(/os [\d._]+/gi));var i="unknow";"windows"===r||"osx"===r||"linux"===r?i="desktop":"android"!==r&&"ios"!==r&&!e(/mobile/gi)||(i="mobile");var s="unknow",a="unknow";e(/applewebkit/gi)&&e(/safari/gi)?(s="webkit",a=e(/edge/gi)?"edge":e(/opr/gi)?"opera":e(/chrome/gi)?"chrome":"safari"):e(/gecko/gi)&&e(/firefox/gi)?(s="gecko",a="firefox"):e(/presto/gi)?(s="presto",a="opera"):e(/trident|compatible|msie/gi)&&(s="trident",a="iexplore");var u="unknow";"webkit"===s?u=t(/applewebkit\/[\d.]+/gi):"gecko"===s?u=t(/gecko\/[\d.]+/gi):"presto"===s?u=t(/presto\/[\d.]+/gi):"trident"===s&&(u=t(/trident\/[\d.]+/gi));var d="unknow";"chrome"===a?d=t(/chrome\/[\d.]+/gi):"safari"===a?d=t(/version\/[\d.]+/gi):"firefox"===a?d=t(/firefox\/[\d.]+/gi):"opera"===a?d=t(/opr\/[\d.]+/gi):"iexplore"===a?d=t(/(msie [\d.]+)|(rv:[\d.]+)/gi):"edge"===a&&(d=t(/edge\/[\d.]+/gi));var c="none",l="unknow";return e(/micromessenger/gi)?(c="wechat",l=t(/micromessenger\/[\d.]+/gi)):e(/qqbrowser/gi)?(c="qq",l=t(/qqbrowser\/[\d.]+/gi)):e(/ubrowser/gi)?(c="uc",l=t(/ubrowser\/[\d.]+/gi)):e(/2345explorer/gi)?(c="2345",l=t(/2345explorer\/[\d.]+/gi)):e(/metasr/gi)?c="sougou":e(/lbbrowser/gi)?c="liebao":e(/maxthon/gi)?(c="maxthon",l=t(/maxthon\/[\d.]+/gi)):e(/bidubrowser/gi)&&(c="baidu",l=t(/bidubrowser [\d.]+/gi)),Object.assign({engine:s,engineVs:u,platform:i,supporter:a,supporterVs:d,system:r,systemVs:o},"none"===c?{}:{shell:c,shellVs:l})}})});
